@model QuotePoc.WebUI.Models.Life

<h3>Lives</h3>
<p>
    <button data-bind="click: addLife">Add a life</button>
</p>
<div id="quote-lives" data-bind='template: "quote-lives-template"'></div>

<script type="text/html" id="quote-lives-template">
    <table>
        <tr>
            <th>Title</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Date of Birth</th>
            <th>Age Next</th>
        </tr>
        {{each(i, life) lives()}}
            <tr>
                <td>
                    @Html.KnockoutEditorFor(l => l.Title, "value: title")
                    @Html.KnockoutValidationMessageFor(l => l.Title)
                </td>
                <td>
                    @Html.KnockoutEditorFor(l => l.FirstName, "value: firstName")
                    @Html.KnockoutValidationMessageFor(l => l.FirstName)
                </td>
                <td>
                    @Html.KnockoutEditorFor(l => l.LastName, "value: lastName")
                    @Html.KnockoutValidationMessageFor(l => l.LastName)
                </td>
                <td>
                    @Html.KnockoutEditorFor(l => l.DateOfBirth, "value: formattedDateOfBirth, valueUpdate: 'afterkeydown'")
                    @Html.KnockoutValidationMessageFor(l => l.DateOfBirth)
                </td>
                <td><span data-bind="text: ageNext" /></td>
            </tr>
        {{/each}}
    </table>
</script>